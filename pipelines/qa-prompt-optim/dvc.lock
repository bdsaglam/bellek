schema: '2.0'
stages:
  train:
    cmd: python main.py train --dataset-path bdsaglam/musique-mini --dataset-name
      answerable --dataset-split train[:20] --model llama-3-70b-tgi --temperature
      0.1 --technique standard --optimizer-path ../../data/raw/qa-prompt-optim/optimizer-configs/debug.json
      --out ../../data/generated/qa-prompt-optim/training/trained-program.json
    deps:
    - path: ../../data/raw/qa-prompt-optim/optimizer-configs/debug.json
      hash: md5
      md5: fc8b761c526b1b7e9e01e31f6b5bc6e0
      size: 287
    - path: main.py
      hash: md5
      md5: 6f19831da26dc80a6423c8880e54e13a
      size: 6411
    params:
      params.yaml:
        qa.model: llama-3-70b-tgi
        qa.technique: standard
        qa.temperature: 0.1
        train.dataset.name: answerable
        train.dataset.path: bdsaglam/musique-mini
        train.dataset.split: train[:20]
        train.optimizer: debug
    outs:
    - path: ../../data/generated/qa-prompt-optim/training/trained-program.json
      hash: md5
      md5: c9697c8b7111e4fb64655b0ac8bd3896
      size: 5740
  evaluate-post-training:
    cmd: python main.py evaluate --dataset-path bdsaglam/musique-mini --dataset-name
      answerable --dataset-split validation[:10] --model llama-3-70b-tgi --temperature
      0.1 --technique standard --load-from ../../data/generated/qa-prompt-optim/training/trained-program.json
      --out ../../data/generated/qa-prompt-optim/post-training/
    deps:
    - path: main.py
      hash: md5
      md5: 6f19831da26dc80a6423c8880e54e13a
      size: 6411
    params:
      params.yaml:
        evaluation.dataset.name: answerable
        evaluation.dataset.path: bdsaglam/musique-mini
        evaluation.dataset.split: validation[:10]
        qa.model: llama-3-70b-tgi
        qa.technique: standard
        qa.temperature: 0.1
        run: 1
    outs:
    - path: ../../data/generated/qa-prompt-optim/post-training/results.json
      hash: md5
      md5: 2b5f36a7f60f300fac80ae21301e4c49
      size: 12999
    - path: ../../data/generated/qa-prompt-optim/post-training/scores.json
      hash: md5
      md5: 02698eedab27a5dc185f1bb513ae3aa6
      size: 96
  evaluate-pre-training:
    cmd: python main.py evaluate --dataset-path bdsaglam/musique-mini --dataset-name
      answerable --dataset-split validation[:10] --model llama-3-70b-tgi --temperature
      0.1 --technique standard --out ../../data/generated/qa-prompt-optim/pre-training/
    deps:
    - path: main.py
      hash: md5
      md5: 6f19831da26dc80a6423c8880e54e13a
      size: 6411
    params:
      params.yaml:
        evaluation.dataset.name: answerable
        evaluation.dataset.path: bdsaglam/musique-mini
        evaluation.dataset.split: validation[:10]
        qa.model: llama-3-70b-tgi
        qa.technique: standard
        qa.temperature: 0.1
        run: 1
    outs:
    - path: ../../data/generated/qa-prompt-optim/pre-training/results.json
      hash: md5
      md5: 508ba5b4434f83b51c35141a3f8cb2bc
      size: 12986
    - path: ../../data/generated/qa-prompt-optim/pre-training/scores.json
      hash: md5
      md5: afe0b4f09f7a2f657d54b21a1752e794
      size: 95
